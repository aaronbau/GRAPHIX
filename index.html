<html>
	<head>
		<title>Explorer</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="js/three.js"></script>
		<script src="js/controls/OrbitControls.js"></script>
		<script>
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 10000 );

			var controls = new THREE.OrbitControls( camera );

			var OBJECTS = [];
			//controls.update() must be called after any manual changes to the camera's transform
			camera.position.set(20, 20, 20 );
			controls.update();

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );
			scene.add( new THREE.AxesHelper( 2 ));

			scene.background = new THREE.Color( 0x1d2228 );

			var sunGeometry = new THREE.SphereGeometry( 0.9, 0.9, 0.9 );
			var mercuryGeometry = new THREE.SphereGeometry( 0.1, 0.1, 0.1 );
			var venusGeometry = new THREE.SphereGeometry( 0.3, 0.3, 0.3 );
			var earthGeometry = new THREE.SphereGeometry( 0.3, 0.3, 0.3 );
			var marsGeometry = new THREE.SphereGeometry( 0.2, 0.2, 0.2 );
			var jupiterGeometry = new THREE.SphereGeometry( 0.6, 0.6, 0.6 );
			var saturnGeometry = new THREE.SphereGeometry( 0.5, 0.5, 0.5 );
			var uranusGeometry = new THREE.SphereGeometry( 0.4, 0.4, 0.4 );
			var neptuneGeometry = new THREE.SphereGeometry( 0.4, 0.4, 0.4 );
			var plutoGeometry = new THREE.SphereGeometry( 0.1, 0.1, 0.1 );

			var sunMaterial = new THREE.MeshBasicMaterial( {color: 0xffff00} );
			var mercuryMaterial = new THREE.MeshBasicMaterial( {color: 0xffffff} );
			var venusMaterial = new THREE.MeshBasicMaterial( {color: 0xdba423} );
			var earthMaterial = new THREE.MeshBasicMaterial( {color: 0x235ddb} );
			var marsMaterial = new THREE.MeshBasicMaterial( {color: 0xefc47f} );
			var jupiterMaterial = new THREE.MeshBasicMaterial( {color: 0xefb24f} );
			var saturnMaterial = new THREE.MeshBasicMaterial( {color: 0xe5c99c} );
			var uranusMaterial = new THREE.MeshBasicMaterial( {color: 0x67cce5} );
			var neptuneMaterial = new THREE.MeshBasicMaterial( {color: 0x90daed} );
			var plutoMaterial = new THREE.MeshBasicMaterial( {color: 0xffffff} );

			var sunSphere = new THREE.Mesh( sunGeometry, sunMaterial );
			var mercurySphere = new THREE.Mesh( mercuryGeometry, mercuryMaterial );			
			var venusSphere = new THREE.Mesh( venusGeometry, venusMaterial );			
			var earthSphere = new THREE.Mesh( earthGeometry, earthMaterial );
			var marsSphere = new THREE.Mesh( marsGeometry, marsMaterial );			
			var jupiterSphere = new THREE.Mesh( jupiterGeometry, jupiterMaterial );
			var saturnSphere = new THREE.Mesh( saturnGeometry, saturnMaterial );
			var uranusSphere = new THREE.Mesh( uranusGeometry, uranusMaterial );			
			var neptuneSphere = new THREE.Mesh( neptuneGeometry, neptuneMaterial );
			var plutoSphere = new THREE.Mesh( plutoGeometry, plutoMaterial );
			
			scene.add( sunSphere );
			scene.add( mercurySphere );
			scene.add( venusSphere );
			scene.add( earthSphere );
			scene.add( marsSphere );
			scene.add( jupiterSphere );
			scene.add( saturnSphere );
			scene.add( uranusSphere );
			scene.add( neptuneSphere );
			scene.add( plutoSphere );

			var newpos = 1;

			newpos++;
			mercurySphere.position.x = newpos;
			mercurySphere.position.z = 2;
			
			newpos++;
			venusSphere.position.x = -newpos;
			venusSphere.position.z = -2;
			
			newpos++;
			earthSphere.position.x = newpos;
			earthSphere.position.z = -3;
			
			newpos++;
			marsSphere.position.x = -newpos;
			marsSphere.position.z = 7;
			
			newpos++;
			newpos++;
			jupiterSphere.position.x = newpos;
			jupiterSphere.position.z = 3;
			
			newpos += 1.5;
			saturnSphere.position.x = -newpos;
			saturnSphere.position.z = -2;
			
			newpos += 1.2;
			uranusSphere.position.x = newpos;
			uranusSphere.position.z = -1;

			
			newpos ++;
			neptuneSphere.position.x = -newpos;
			neptuneSphere.position.z = 6;
			
			newpos++;
			plutoSphere.position.x = newpos;
			plutoSphere.position.z = 5;
			

			camera.position.z = 20;

			mercuryParent = new THREE.Object3D();
			venusParent = new THREE.Object3D();
			earthParent = new THREE.Object3D();
			marsParent = new THREE.Object3D();
			jupiterParent = new THREE.Object3D();
			saturnParent = new THREE.Object3D();
			uranusParent = new THREE.Object3D();
			neptuneParent = new THREE.Object3D();
			plutoParent = new THREE.Object3D();

			mercuryParent.add( mercurySphere );
			venusParent.add( venusSphere );
			earthParent.add( earthSphere );
			marsParent.add( marsSphere );
			jupiterParent.add( jupiterSphere );
			saturnParent.add( saturnSphere );
			uranusParent.add( uranusSphere );
			neptuneParent.add( neptuneSphere );
			plutoParent.add( plutoSphere );

			scene.add( mercuryParent );
			scene.add( venusParent );
			scene.add( earthParent );
			scene.add( marsParent );
			scene.add( jupiterParent );
			scene.add( saturnParent );
			scene.add( uranusParent );
			scene.add( neptuneParent );
			scene.add( plutoParent );

			var animate = function () {
				requestAnimationFrame( animate );

				mercurySphere.rotation.y += 0.03;
			    venusSphere.rotation.y += 0.03;
			    earthSphere.rotation.y += 0.03;
			    marsSphere.rotation.y += 0.03;
			    jupiterSphere.rotation.y += 0.03;
			    saturnSphere.rotation.y += 0.03;			    
			    uranusSphere.rotation.y += 0.03;
			    neptuneSphere.rotation.y += 0.03;
			    plutoSphere.rotation.y += 0.03;

				mercuryParent.rotation.y += 0.01;
				venusParent.rotation.y += 0.02;
				earthParent.rotation.y += 0.03;
				marsParent.rotation.y += 0.02;
				jupiterParent.rotation.y += 0.01;
				saturnParent.rotation.y += 0.02;
				uranusParent.rotation.y += 0.03;
				neptuneParent.rotation.y += 0.02;
				plutoParent.rotation.y += 0.01;

				renderer.render(scene, camera);
			};

			animate();

			OBJECTS.push( sunSphere );
			OBJECTS.push( mercurySphere );
			OBJECTS.push( venusSphere );
			OBJECTS.push( earthSphere );
			OBJECTS.push( marsSphere );
			OBJECTS.push( jupiterSphere );
			OBJECTS.push( saturnSphere );
			OBJECTS.push( uranusSphere );
			OBJECTS.push( neptuneSphere );
			OBJECTS.push( plutoSphere );

			sunSphere.name = "Sun";
			mercurySphere.name = "Mercury";
			venusSphere.name = "Venus";
			earthSphere.name = "Earth";
			marsSphere.name = "Mars";
			jupiterSphere.name = "Jupiter";
			saturnSphere.name = "Saturn";
			uranusSphere.name = "Uranus";
			neptuneSphere.name ="Neptune";
			plutoSphere.name = "Pluto";

			document.addEventListener( 'mousedown', onDocumentMouseDown, false );

			function onDocumentMouseDown( event ) {

			    event.preventDefault();

			    var vector = new THREE.Vector3(
			        ( event.clientX / window.innerWidth ) * 2 - 1,
			      - ( event.clientY / window.innerHeight ) * 2 + 1,
			        0.5
			    );
			    
			    vector.unproject(camera);

			    var ray = new THREE.Raycaster( camera.position, 
			                             vector.sub( camera.position ).normalize() );

			    var intersects = ray.intersectObjects( OBJECTS );

			    if ( intersects.length > 0 ) {
			        switch(intersects[0].object.name){
			        	case "Sun":
			        		window.location.href = "test.html";
			        		break;
			        	case "Mercury":
			        		window.location.href = "test.html";
			        		break;
			        	case "Venus":
			        		window.location.href = "test.html";
			        		break;
			        	case "Earth":
			        		window.location.href = "test.html";
			        		break;
			        	case "Mars":
			        		window.location.href = "test.html";
			        		break;
			        	case "Jupiter":
			        		window.location.href = "test.html";
			        		break;
			        	case "Saturn":
			        		window.location.href = "test.html";
			        		break;
			        	case "Uranus":
			        		window.location.href = "test.html";
			        		break;
			        	case "Neptune":
			        		window.location.href = "test.html";
			        		break;
			        	case "Pluto":
			        		window.location.href = "test.html";
			        		break;
			        	default:
			        		console.log("yes");
			        }
			    }
			}
		</script>
	</body>
</html>